<app-home-button></app-home-button>

<p id="title">Tic-Tac-Toe</p>

<div *ngIf="hasGameStarted">
	<p *ngIf="!winner" id="title">Player {{currentPlayer}}'s turn</p>
	<p *ngIf="winner === 'DRAW'; else displayWinner" id="title">Its a draw!</p>
	<ng-template #displayWinner>
		<p id="title">Player {{winner}} won!</p>
	</ng-template>

	<div id="game-table">
		<div class="square" *ngFor="let square of gridSelections; let i = index" (mouseenter)="mouseHovering(i)"
			(mouseleave)="mouseNotHovering()" (click)="selectSquare(i)"
			[ngClass]="{ 'winning-squares': winningSquares.includes(i) }">
			<span class="selecting" *ngIf="hoveredSquare === i && gridSelections[i] === null; else displaySelection">
				{{ currentPlayer }}</span>
			<ng-template #displaySelection>
				<span class="selection">{{ gridSelections[i] }}</span>
			</ng-template>
		</div>
	</div>

	<button id="exit-game-button" class="primary-button" (click)="exitGame()"><mat-icon>exit_to_app</mat-icon></button>
</div>

<div *ngIf="!hasGameStarted">
	<div id="gamemode-selection">
		<p [class.selected-gamemode]="!playsVsComputer">play with yourself (<span style="font-size:.85em;">ðŸ¤¨</span>)
		</p>
		<label class="switch">
			<input type="checkbox" [(ngModel)]="playsVsComputer">
			<span class="slider round"></span>
		</label>
		<p [class.selected-gamemode]="playsVsComputer">play vs computer (to implement)</p>
	</div>

	<button id="start-game-button" class="primary-button" (click)="startNewGame()">start new game</button>
</div>